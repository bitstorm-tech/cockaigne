<div id="modal" class="modal modal-open">
  <div class="modal-box">
    <h1 class="text-lg font-bold">
      Du willst den Deal
      <i>{{ .title }}</i>
      melden?
    </h1>
    <form hx-post="/deal-report/{{ .id }}" hx-target="#modal" x-data="{reason: ''}">
      <div class="grid grid-cols-1 py-4">
        <div class="form-control">
          <label for="reason">
            {{ if .reason }}Du hast diesen Deal schon gemeldet{{ else }}Sag uns, was an dem Deal nicht passt{{ end }}
          </label>
          <textarea name="reason" id="reason" rows="3" x-bind="reason" {{ if .reason }}disabled{{ end }}>
            {{- .reason -}}
          </textarea>
        </div>
      </div>
      <div class="modal-action">
        {{ if .reason }}
        <button class="btn" hx-delete="/ui/remove" hx-target="#modal">OK</button>
        {{ else }}
        <div class="flex gap-2">
          <button :disabled="reason.length === 0">Melden</button>
          <button class="btn-primary" hx-delete="/ui/remove" hx-target="#modal">Abbrechen</button>
        </div>
        {{ end }}
      </div>
    </form>
  </div>
</div>
